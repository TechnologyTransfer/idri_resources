<nav class="site-nav" aria-label="Main navigation">
	<div class="nav-inner">
		<button class="nav-toggle" aria-expanded="false" aria-label="Open menu">
			<img style="margin-top: 16px; margin-right: 16px;" src="https://www.idri.edu.kh/wp-content/uploads/2025/10/Group-1.png" alt="Menu" class="nav-icon" />
			<span class="hamburger" aria-hidden="true"></span>
		</button>

		<div class="nav-menu" id="main-menu" role="menubar">
			<a role="none"><a role="menuitem" class="nav-link active" href="#home">HOME</a></a>
			<a role="none"><a role="menuitem" class="nav-link" href="#about-us">ABOUT US</a></a>
			<a role="none"><a role="menuitem" class="nav-link" href="#agenda">AGENDA</a></a>
			<a role="none"><a role="menuitem" class="nav-link" href="#speaker">SPEAKERS</a></a>
		</div>
	</div>

	<style>
		/* Basic reset for this component */
		.site-nav { box-sizing: border-box; width: 100%; }
		.site-nav * { box-sizing: inherit; }

		/* Container */
		.nav-inner {
			max-width: 100vw; /* desktop visual constraint, nav items still centered */
			margin: 0 auto;
			padding: 14px 20px;
			display: flex;
			justify-content: center; /* center menu horizontally */
			align-items: center;
			position: relative;
		}

		/* Toggle (hamburger) */
		.nav-toggle {
			display: none; /* hidden on desktop */
			position: absolute;
			left: 20px;
			top: 50%;
			transform: translateY(-50%);
			background: transparent;
			border: 0;
			padding: 8px;
			cursor: pointer;
			z-index: 60;
		}
		/* icon used on tablet/mobile */
		.nav-icon {
			display: none;
			width: 52px;
			height: 36px;
			object-fit: cover;
			border-radius: 6px;
		}

		.hamburger {
			display: block;
			width: 22px;
			height: 2px;
			background: #12284C;
			position: relative;
		}
		.hamburger::before, .hamburger::after {
			content: "";
			position: absolute;
			left: 0;
			width: 22px;
			height: 2px;
			background: #12284C;
		}
		.hamburger::before { top: -7px; }
		.hamburger::after { top: 7px; }

		/* Menu (desktop) */
		.nav-menu {
			list-style: none;
			display: flex;
			gap: 48px;
			margin: 0;
			padding: 0;
			align-items: center;
		}

		.nav-link {
			text-decoration: none;
			color: #12284C; /* inactive color */
			font-weight: 700;
			letter-spacing: 0.4px;
			font-size: 16px;
			padding: 6px 0;
			display: inline-block;
		}

		/* Active link color */
		.nav-link.active {
			color: #3CB4E5;
		}

		/* Hover/focus */
		.nav-link:focus, .nav-link:hover {
			color: #3CB4E5;
			outline: none;
		}

		/* Responsive: Tablet & Mobile (single breakpoint) */
		@media (max-width: 1024px) {
			.nav-inner {
				justify-content: center;
				padding: 12px 16px;
			}
			/* show icon-only toggle (right aligned with 20px padding) */
			.nav-toggle {
				display: block;
                top: 20px;
				left: auto;
				right: 0;               /* align to right with 20px space */
				transform: translateY(-50%); /* vertically center */
				padding: 8px;             /* keep compact touch target */
			}
			.nav-icon { display: inline-block; vertical-align: middle; }
			.hamburger { display: none; }

			/* Hide menu by default on small screens â€” only show when .show is present */
			.nav-menu {
				position: absolute;
				top: 100%;
				left: 0;
				right: 0;
				background: #fff;
				flex-direction: column;
				gap: 0;
				padding: 8px 20px;
				margin: 8px 0 0 0;
				border-top: 1px solid rgba(18,40,76,0.06);
				box-shadow: -20px 4px 80px -8px rgba(145, 158, 171, 0.25);
				/* ensure hidden on small screens unless toggled */
				display: none !important;
				z-index: 50;
			}

			/* when JS toggles .show, reveal the menu */
			.nav-menu.show {
				display: flex !important;
			}

			.nav-menu li { width: 100%; }
			.nav-link {
				padding: 14px 12px;
				width: 100%;
				color: #12284C;
				text-align: center;
				border-radius: 4px;
			}
			.nav-link + .nav-link { margin-top: 0; }
			.nav-link.active { color: #3CB4E5; }

			/* small/mobile tweaks (merged) */
			.nav-inner { padding: 10px 12px; }
			.nav-menu { padding: 6px 12px; }
			.nav-link { font-size: 15px; padding: 12px 10px; }
			.hamburger, .hamburger::before, .hamburger::after { background: #12284C; }
		}

		/* Mobile small tweaks */
		@media (max-width: 420px) {
			.nav-inner { padding: 10px 12px; }
			.nav-menu { padding: 6px 12px; }
			.nav-link { font-size: 15px; padding: 12px 10px; }
			.hamburger, .hamburger::before, .hamburger::after { background: #12284C; }
		}

		/* shadow from Figma when user scrolls down */
		.nav-inner {
			transition: box-shadow 220ms ease, background-color 220ms ease;
		}
		.site-nav.scrolled .nav-inner {
			/* Figma: X 0, Y 4, Blur 48, Spread 20, color #000000 5% */
			box-shadow: -20px 4px 80px -8px rgba(145, 158, 171, 0.25);
		}
	</style>
 
	<script>
		(function(){
 			const toggle = document.querySelector('.nav-toggle');
 			const menu = document.getElementById('main-menu');
 			const navLinks = document.querySelectorAll('.nav-link');
 
 			if (!toggle || !menu) return;
 
 			function setAria(expanded){
 				toggle.setAttribute('aria-expanded', String(expanded));
 			}
 
 			toggle.addEventListener('click', function(e){
 				const isOpen = menu.classList.toggle('show');
 				setAria(isOpen);
 			});
 
 			// Close when clicking outside
 			document.addEventListener('click', function(e){
 				if (!menu.classList.contains('show')) return;
 				const target = e.target;
 				if (!menu.contains(target) && !toggle.contains(target)) {
 					menu.classList.remove('show');
 					setAria(false);
 				}
 			});
 
 			// Close on Escape
 			document.addEventListener('keydown', function(e){
 				if (e.key === 'Escape' && menu.classList.contains('show')) {
 					menu.classList.remove('show');
 					setAria(false);
 					toggle.focus();
 				}
 			});
 
 			// Smooth scroll to Divi sections (anchors). Closes mobile menu after selection.
 			navLinks.forEach(link => {
 				link.addEventListener('click', function(e){
 					const href = this.getAttribute('href') || '';
 					if (href.startsWith('#')) {
 						const target = document.querySelector(href);
 						if (target) {
 							e.preventDefault();
 							// close mobile menu if open
 							if (menu.classList.contains('show')) {
 								menu.classList.remove('show');
 								setAria(false);
 							}
 							target.scrollIntoView({ behavior: 'smooth', block: 'start' });
 							// update active state
 							navLinks.forEach(n => n.classList.remove('active'));
 							this.classList.add('active');
 							// update URL hash without jumping
 							history.replaceState(null, '', href);
 						}
 					}
 				});
 			});
 
 			// Scroll-spy: update active nav item based on visible section
 			const sectionIds = Array.from(navLinks).map(a => a.getAttribute('href')).filter(h => h && h.startsWith('#'));
 			const sections = sectionIds.map(id => document.querySelector(id)).filter(Boolean);
 
 			if ('IntersectionObserver' in window && sections.length) {
 				const obs = new IntersectionObserver((entries) => {
 					entries.forEach(entry => {
 						const id = '#' + (entry.target.id || '');
 						const navItem = document.querySelector('.nav-link[href="' + id + '"]');
 						if (entry.isIntersecting && navItem) {
 							navLinks.forEach(n => n.classList.remove('active'));
 							navItem.classList.add('active');
 							// update URL hash without page jump
 							history.replaceState(null, '', id);
 						}
 					});
 				}, { root: null, rootMargin: '0px 0px -40% 0px', threshold: 0.2 });
 
 				sections.forEach(s => obs.observe(s));
 			} else {
 				// fallback: update active on hashchange
 				window.addEventListener('hashchange', () => {
 					const current = location.hash || '#home';
 					navLinks.forEach(n => n.classList.toggle('active', n.getAttribute('href') === current));
 				});
 			}
 
 			// ensure Home active at load if no hash
 			if (!location.hash) {
 				navLinks.forEach(n => n.classList.toggle('active', n.getAttribute('href') === '#home'));
 			}
 
			// Add/remove shadow class on scroll: show when scrolled down, hide at top
			(function(){
				const rootNav = document.querySelector('.site-nav');
				if (!rootNav) return;
				function onScroll(){
					if (window.scrollY > 0) rootNav.classList.add('scrolled');
					else rootNav.classList.remove('scrolled');
				}
				// run once on load
				onScroll();
				window.addEventListener('scroll', onScroll, { passive: true });
			})();
 
 		})();
 	</script>
</nav>